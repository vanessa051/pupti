!function(a,b,c){var d,e="mThumbnailScroller",f="mTS",g=".mThumbnailScroller",h={setTop:0,setLeft:0,type:"hover-50",axis:"x",speed:15,contentTouchScroll:25,markup:{buttonsPlaceholder:!1,buttonsHTML:{up:"SVG set 1",down:"SVG set 1",left:"SVG set 1",right:"SVG set 1"}},advanced:{autoExpandHorizontalScroll:!0,updateOnContentResize:!0,updateOnImageLoad:!0},theme:"none",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},i=0,j={},k=b.attachEvent&&!b.addEventListener?1:0,l=!1,m=["mTS_disabled","mTS_destroyed","mTS_no_scroll"],n={init:function(b){var b=a.extend(!0,{},h,b),c=o.call(this);if(b.live){var d=b.liveSelector||this.selector||g,e=a(d);if("off"===b.live)return void q(d);j[d]=setTimeout(function(){e.mThumbnailScroller(b),"once"===b.live&&e.length&&q(d)},500)}else q(d);return b.speed=0===b.speed?100:b.speed,p(b),a(c).each(function(){var c=a(this);if(!c.data(f)){c.data(f,{idx:++i,opt:b,html:null,overflowed:null,bindEvents:!1,tweenRunning:!1,langDir:c.css("direction"),cbOffsets:null,trigger:null});var d=c.data(f).opt,e=c.data("mts-axis"),g=c.data("mts-type"),h=c.data("mts-theme");e&&(d.axis=e),g&&(d.type=g),h&&(d.theme=h,p(d)),r.call(this),n.update.call(null,c)}})},update:function(b){var c=b||o.call(this);return a(c).each(function(){var b=a(this);if(b.data(f)){var c=b.data(f),d=c.opt,e=a("#mTS_"+c.idx+"_container");if(!e.length)return;c.tweenRunning&&M(b),b.hasClass(m[0])&&b.removeClass(m[0]),b.hasClass(m[1])&&b.removeClass(m[1]),w.call(this),s.call(this),c.overflowed=x.call(this),B.call(this),z.call(this);var g=[e[0].offsetTop,e[0].offsetLeft];"x"!==d.axis&&(c.overflowed[0]?N(b,g[0].toString(),{dir:"y",dur:0,overwrite:"none"}):(y.call(this),"y"===d.axis?(N(b,"0",{dir:"y",dur:0,overwrite:"none"}),A.call(this)):"yx"===d.axis&&c.overflowed[1]&&N(b,g[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==d.axis&&(c.overflowed[1]?N(b,g[1].toString(),{dir:"x",dur:0,overwrite:"none"}):(y.call(this),"x"===d.axis?(N(b,"0",{dir:"x",dur:0,overwrite:"none"}),A.call(this)):"yx"===d.axis&&c.overflowed[0]&&N(b,g[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),c.overflowed[0]||c.overflowed[1]?b.removeClass(m[2]):b.addClass(m[2]),L.call(this)}})},scrollTo:function(b,c){if("undefined"!=typeof b&&null!=b){var d=o.call(this);return a(d).each(function(){var d=a(this);if(d.data(f)){var e=d.data(f),g=e.opt,h={trigger:"external",speed:g.speed,duration:1e3,easing:"easeInOut",timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=a.extend(!0,{},h,c),j=J.call(this,b),k=i.duration?i.duration:7e3/(i.speed||1);j[0]=K.call(this,j[0],"y"),j[1]=K.call(this,j[1],"x"),i.dur=k>0&&17>k?17:k,setTimeout(function(){null!==j[0]&&"undefined"!=typeof j[0]&&"x"!==g.axis&&e.overflowed[0]&&(i.dir="y",i.overwrite="all",N(d,-j[0].toString(),i)),null!==j[1]&&"undefined"!=typeof j[1]&&"y"!==g.axis&&e.overflowed[1]&&(i.dir="x",i.overwrite="none",N(d,-j[1].toString(),i))},i.timeout)}})}},stop:function(){var b=o.call(this);return a(b).each(function(){var b=a(this);b.data(f)&&M(b)})},disable:function(b){var c=o.call(this);return a(c).each(function(){var c=a(this);if(c.data(f)){var d=c.data(f);d.opt;L.call(this,"remove"),A.call(this),b&&y.call(this),B.call(this,!0),c.addClass(m[0])}})},destroy:function(){var b=o.call(this);return a(b).each(function(){var c=a(this);if(c.data(f)){var d=c.data(f),g=d.opt,h=a("#mTS_"+d.idx),i=(a("#mTS_"+d.idx+"_container"),a("#mTS_"+d.idx+"_buttonUp,#mTS_"+d.idx+"_buttonDown,#mTS_"+d.idx+"_buttonLeft,#mTS_"+d.idx+"_buttonRight"));g.live&&q(b),L.call(this,"remove"),A.call(this),y.call(this),c.removeData(f),R(this,"mts"),i.remove(),h.replaceWith(d.html),c.removeClass(e+" _"+f+"_"+d.idx+" "+f+"-"+g.theme+" "+m[2]+" "+m[0]).addClass(m[1])}})}},o=function(){return"object"!=typeof a(this)||a(this).length<1?g:this},p=function(b){var c=["buttons-out"],d=["buttons-in"],e=["buttons-out"],f=["hover-classic"],g=["hover-full"];b.markup.buttonsPlaceholder=a.inArray(b.theme,c)>-1?"outside":b.markup.buttonsPlaceholder,b.markup.buttonsHTML=a.inArray(b.theme,d)>-1?{up:"SVG set 2",down:"SVG set 2",left:"SVG set 2",right:"SVG set 2"}:a.inArray(b.theme,e)>-1?{up:"SVG set 3",down:"SVG set 3",left:"SVG set 3",right:"SVG set 3"}:b.markup.buttonsHTML,b.type=a.inArray(b.theme,f)>-1?"hover-85":a.inArray(b.theme,g)>-1?"hover-precise":b.type,b.speed=a.inArray(b.theme,f)>-1?60:a.inArray(b.theme,g)>-1?10:b.speed},q=function(a){j[a]&&(clearTimeout(j[a]),R(j,a))},r=function(){var b=a(this),c=b.data(f),d=c.opt,g="yx"===d.axis?"mTS_vertical_horizontal":"x"===d.axis?"mTS_horizontal":"mTS_vertical",h=d.markup.thumbnailsContainer||"ul",i=d.markup.thumbnailContainer||"li",j=d.markup.thumbnailElement||"img";if(c.html=b.children().clone(!0,!0),!b.find(h).length){var k=b.find("li").length?"<ul class='"+f+"AutoContainer' />":"<div class='"+f+"AutoContainer' />";b.wrapInner(k),h="."+f+"AutoContainer"}d.setWidth&&b.css("width",d.setWidth),d.setHeight&&b.css("height",d.setHeight),d.setLeft="y"!==d.axis&&"rtl"===c.langDir?"-989999px":d.setLeft,b.addClass(e+" _"+f+"_"+c.idx+" "+f+"-"+d.theme).find(h).wrap("<div id='mTS_"+c.idx+"' class='mTSWrapper "+g+"' />").addClass(f+"Container").attr("id","mTS_"+c.idx+"_container").css({position:"relative",top:d.setTop,left:d.setLeft}).find(i).addClass(f+"ThumbContainer").find(j).addClass(f+"Thumb"),t.call(this)},s=function(){var b=a(this),c=b.data(f),d=c.opt,e=a("#mTS_"+c.idx+"_container");d.advanced.autoExpandHorizontalScroll&&"y"!==d.axis&&e.css({position:"absolute",width:"auto"}).wrap("<div class='mTS_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(e[0].getBoundingClientRect().right)-Math.floor(e[0].getBoundingClientRect().left),position:"relative"}).unwrap()},t=function(){var b=a(this),c=b.data(f),d=c.opt,g=d.markup.buttonsPlaceholder?"outside"===d.markup.buttonsPlaceholder?b:a(d.markup.buttonsPlaceholder):a("#mTS_"+c.idx),h=["<a href='#' id='mTS_"+c.idx+"_buttonUp' class='mTSButton mTSButtonUp'><span class='mTSButtonIconContainer'>"+u.call(this,"up")+"</span></a>","<a href='#' id='mTS_"+c.idx+"_buttonDown' class='mTSButton mTSButtonDown'><span class='mTSButtonIconContainer'>"+u.call(this,"down")+"</span></a>","<a href='#' id='mTS_"+c.idx+"_buttonLeft' class='mTSButton mTSButtonLeft'><span class='mTSButtonIconContainer'>"+u.call(this,"left")+"</span></a>","<a href='#' id='mTS_"+c.idx+"_buttonRight' class='mTSButton mTSButtonRight'><span class='mTSButtonIconContainer'>"+u.call(this,"right")+"</span></a>"];["x"===d.axis?h[2]:h[0],"x"===d.axis?h[3]:h[1]];g.hasClass(e)&&"static"===g.css("position")&&g.css("position","relative"),-1!==d.type.indexOf("click")&&("x"!==d.axis&&g.append(h[0]+h[1]),"y"!==d.axis&&g.append(h[2]+h[3]))},u=function(b){var c=a(this),d=c.data(f),e=d.opt,g=e.markup.buttonsHTML,h="SVG set 1"===g[b]?0:"SVG set 2"===g[b]?1:"SVG set 3"===g[b]?2:"SVG set 4"===g[b]?3:"SVG set 5"===g[b]?4:null;switch(b){case"up":return null===h?g[b]:k?"&uarr;":v(g[b])[h][0];case"down":return null===h?g[b]:k?"&darr;":v(g[b])[h][1];case"left":return null===h?g[b]:k?"&larr;":v(g[b])[h][2];case"right":return null===h?g[b]:k?"&rarr;":v(g[b])[h][3]}},v=function(){var a="<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g>",b="</svg>";return[[a+"<path d='M20.561 9.439l-7.5-7.5c-0.586-0.586-1.535-0.586-2.121 0l-7.5 7.5c-0.586 0.586-0.586 1.536 0 2.121s1.536 0.586 2.121 0l4.939-4.939v14.379c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5v-14.379l4.939 4.939c0.293 0.293 0.677 0.439 1.061 0.439s0.768-0.146 1.061-0.439c0.586-0.586 0.586-1.535 0-2.121z'></path>"+b,a+"<path d='M3.439 14.561l7.5 7.5c0.586 0.586 1.536 0.586 2.121 0l7.5-7.5c0.586-0.586 0.586-1.536 0-2.121s-1.536-0.586-2.121 0l-4.939 4.939v-14.379c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5v14.379l-4.939-4.939c-0.293-0.293-0.677-0.439-1.061-0.439s-0.768 0.146-1.061 0.439c-0.586 0.586-0.586 1.536 0 2.121z'></path>"+b,a+"<path d='M9.439 3.439l-7.5 7.5c-0.586 0.586-0.586 1.536 0 2.121l7.5 7.5c0.586 0.586 1.536 0.586 2.121 0s0.586-1.536 0-2.121l-4.939-4.939h14.379c0.828 0 1.5-0.672 1.5-1.5s-0.672-1.5-1.5-1.5h-14.379l4.939-4.939c0.293-0.293 0.439-0.677 0.439-1.061s-0.146-0.768-0.439-1.061c-0.586-0.586-1.536-0.586-2.121 0z'></path>"+b,a+"<path d='M14.561 20.561l7.5-7.5c0.586-0.586 0.586-1.536 0-2.121l-7.5-7.5c-0.586-0.586-1.536-0.586-2.121 0s-0.586 1.536 0 2.121l4.939 4.939h-14.379c-0.828 0-1.5 0.672-1.5 1.5s0.672 1.5 1.5 1.5h14.379l-4.939 4.939c-0.293 0.293-0.439 0.677-0.439 1.061s0.146 0.768 0.439 1.061c0.586 0.586 1.536 0.586 2.121 0z'></path>"+b],[a+"<path d='M18.58 13.724c-0.488-0.502-5.634-5.402-5.634-5.402-0.262-0.268-0.604-0.402-0.946-0.402-0.343 0-0.685 0.134-0.946 0.402 0 0-5.146 4.901-5.635 5.402-0.488 0.502-0.522 1.404 0 1.939 0.523 0.534 1.252 0.577 1.891 0l4.69-4.496 4.688 4.496c0.641 0.577 1.37 0.534 1.891 0 0.523-0.536 0.491-1.439 0-1.939z'</path>"+b,a+"<path d='M18.58 10.276c-0.488 0.502-5.634 5.404-5.634 5.404-0.262 0.268-0.604 0.401-0.946 0.401-0.343 0-0.685-0.133-0.946-0.401 0 0-5.146-4.902-5.635-5.404-0.488-0.502-0.522-1.403 0-1.939 0.523-0.535 1.252-0.577 1.891 0l4.69 4.498 4.688-4.496c0.641-0.577 1.37-0.535 1.891 0 0.523 0.535 0.491 1.438 0 1.938z'></path>"+b,a+"<path d='M13.724 5.419c-0.502 0.49-5.402 5.635-5.402 5.635-0.268 0.262-0.401 0.604-0.401 0.946s0.133 0.684 0.401 0.946c0 0 4.901 5.146 5.402 5.634 0.502 0.49 1.404 0.523 1.939 0 0.534-0.522 0.576-1.25-0.001-1.89l-4.496-4.69 4.496-4.69c0.577-0.641 0.535-1.369 0.001-1.891-0.536-0.522-1.439-0.49-1.939 0z'></path>"+b,a+"<path d='M10.276 5.419c0.502 0.49 5.402 5.635 5.402 5.635 0.269 0.262 0.402 0.604 0.402 0.946s-0.133 0.684-0.402 0.946c0 0-4.901 5.146-5.402 5.634-0.502 0.49-1.403 0.523-1.939 0-0.535-0.522-0.577-1.25 0-1.89l4.498-4.69-4.496-4.69c-0.577-0.641-0.535-1.369 0-1.891s1.438-0.49 1.938 0z'></path>"+b],[a+"<path d='M20.902 17.279c0.325 0.322 0.851 0.322 1.175 0 0.325-0.322 0.325-0.841 0-1.163l-9.49-9.396c-0.324-0.322-0.85-0.322-1.174 0l-9.49 9.396c-0.324 0.322-0.325 0.841 0 1.163s0.85 0.322 1.175 0l8.902-8.569 8.902 8.569z'></path>"+b,a+"<path d='M3.098 6.721c-0.325-0.322-0.851-0.322-1.175 0-0.324 0.32-0.324 0.841 0 1.163l9.49 9.396c0.325 0.322 0.85 0.322 1.175 0l9.49-9.396c0.324-0.322 0.325-0.841 0-1.163s-0.852-0.322-1.175-0.001l-8.903 8.569-8.902-8.568z'></path>"+b,a+"<path d='M17.279 20.902c0.322 0.325 0.322 0.85 0 1.175s-0.841 0.325-1.163 0l-9.396-9.488c-0.322-0.325-0.322-0.851 0-1.175l9.396-9.49c0.322-0.325 0.841-0.325 1.163 0s0.322 0.85 0 1.175l-8.568 8.902 8.568 8.902z'</path>"+b,a+"<path d='M6.72 20.902c-0.322 0.325-0.322 0.85 0 1.175s0.841 0.325 1.163 0l9.396-9.488c0.322-0.325 0.322-0.851 0-1.175l-9.396-9.49c-0.322-0.325-0.841-0.325-1.163 0s-0.322 0.85 0 1.175l8.568 8.902-8.568 8.902z'</path>"+b],[a+"<path d='M12 0l-12 12h7.5v12l9 0v-12h7.5z'></path>"+b,a+"<path d='M12 24l12-12h-7.5v-12l-9-0v12h-7.5z'></path>"+b,a+"<path d='M0 12l12 12v-7.5h12l0-9h-12v-7.5z'></path>"+b,a+"<path d='M24 12l-12-12v7.5h-12l-0 9h12v7.5z'></path>"+b],[a+"<path d='M6.48 16.8h11.040l-5.521-9.6z'></path>"+b,a+"<path d='M17.52 7.201l-11.040-0.001 5.52 9.6z'></path>"+b,a+"<path d='M16.799 6.48l0.001 11.040-9.6-5.52z'></path>"+b,a+"<path d='M7.201 6.48l-0.001 11.040 9.6-5.52z'></path>"+b]]},w=function(){var b=a(this),c=b.data(f),d=(c.opt,a("#mTS_"+c.idx)),e=b.css("max-height"),g=-1!==e.indexOf("%"),h=b.css("box-sizing");if("none"!==e){var i=g?b.parent().height()*parseInt(e)/100:parseInt(e);"border-box"===h&&(i-=b.innerHeight()-b.height()+(b.outerHeight()-b.innerHeight())),d.css("max-height",Math.round(i))}},x=function(){var b=a(this),c=b.data(f),d=a("#mTS_"+c.idx),e=a("#mTS_"+c.idx+"_container");return[e.height()>d.height(),e.width()>d.width()]},y=function(){var b=a(this),c=b.data(f),d=c.opt,e=a("#mTS_"+c.idx),g=a("#mTS_"+c.idx+"_container");if(M(b),("x"!==d.axis&&!c.overflowed[0]||"y"===d.axis&&c.overflowed[0])&&g.css("top",0),"y"!==d.axis&&!c.overflowed[1]||"x"===d.axis&&c.overflowed[1]){var h="rtl"===c.langDir?e.width()-g.width():0;g.css("left",h)}},z=function(){var b=a(this),c=b.data(f),d=c.opt;c.bindEvents||(d.contentTouchScroll&&E.call(this),-1!==d.type.indexOf("hover")?"hover-precise"===d.type?F.call(this):G.call(this):-1!==d.type.indexOf("click")&&H.call(this),c.bindEvents=!0)},A=function(){var b=a(this),c=b.data(f),d=f+"_"+c.idx,e=a("#mTS_"+c.idx+",#mTS_"+c.idx+"_container,#mTS_"+c.idx+"_buttonUp,#mTS_"+c.idx+"_buttonDown,#mTS_"+c.idx+"_buttonLeft,#mTS_"+c.idx+"_buttonRight"),g=a("#mTS_"+c.idx+"_container");c.bindEvents&&(e.each(function(){a(this).unbind("."+d)}),clearTimeout(g[0].onCompleteTimeout),R(g[0],"onCompleteTimeout"),c.bindEvents=!1)},B=function(b,c,d){var e=a(this),g=e.data(f),h=g.opt;if(-1!==h.type.indexOf("click")){d||(d=h.axis);var i=[a("#mTS_"+g.idx+"_buttonUp"),a("#mTS_"+g.idx+"_buttonDown"),a("#mTS_"+g.idx+"_buttonLeft"),a("#mTS_"+g.idx+"_buttonRight")],j=f+"-hidden";"x"!==d&&(!g.overflowed[0]||b||c?sel=1===c?[i[0],i[1]]:2===c?[i[1],i[0]]:[i[0].add(i[1]),null]:sel=[g.overflowed[1]?null:i[2].add(i[3]),i[0].add(i[1])]),"y"!==d&&(!g.overflowed[1]||b||c?sel=1===c?[i[2],i[3]]:2===c?[i[3],i[2]]:[i[2].add(i[3]),null]:sel=[g.overflowed[0]?null:i[0].add(i[1]),i[2].add(i[3])]),sel[0]&&sel[0].addClass(j),sel[1]&&sel[1].removeClass(j)}},C=function(a){var b=a.type;switch(b){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return[a.originalEvent.pageY,a.originalEvent.pageX];case"touchstart":case"touchmove":case"touchend":var c=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];return[c.pageY,c.pageX];default:return[a.pageY,a.pageX]}},D=function(a){return d||-1!==a.type.indexOf("touch")||"undefined"!=typeof a.pointerType&&(2===a.pointerType||"touch"===a.pointerType)?"touch":"mouse"},E=function(){function b(a,b){var c=[1.5*b,2*b,b/1.5,b/2];return a>90?b>4?c[0]:c[3]:a>60?b>3?c[3]:c[2]:a>30?b>8?c[1]:b>6?c[0]:b>4?b:c[2]:b>8?b:c[3]}function c(a,b,c,d,e){a&&N(r,-a.toString(),{dur:b,easing:c,dir:d,overwrite:e})}var e,g,h,i,j,k,m,n,o,p,q,r=a(this),s=r.data(f),t=s.opt,u=f+"_"+s.idx,v=a("#mTS_"+s.idx),w=a("#mTS_"+s.idx+"_container"),x=[],y=[],z=0,A="yx"===t.axis?"none":"all",B=[];w.bind("touchstart."+u+" pointerdown."+u+" MSPointerDown."+u,function(a){if(T(a)&&!l){r.removeClass("mTS_touch_action");var b=w.offset();e=C(a)[0]-b.top,g=C(a)[1]-b.left,B=[C(a)[0],C(a)[1]]}}).bind("touchmove."+u+" pointermove."+u+" MSPointerMove."+u,function(a){if(T(a)&&!l){a.stopImmediatePropagation(),k=P();var b=v.offset(),d=C(a)[0]-b.top,f=C(a)[1]-b.left,h="linearOut";if(x.push(d),y.push(f),B[2]=Math.abs(C(a)[0]-B[0]),B[3]=Math.abs(C(a)[1]-B[1]),s.overflowed[0])var i=v.height()-w.height(),j=e-d>0&&d-e>i&&2*B[3]<B[2];if(s.overflowed[1])var m=v.width()-w.width(),n=g-f>0&&f-g>m&&2*B[2]<B[3];j||n?a.preventDefault():r.addClass("mTS_touch_action"),p="yx"===t.axis?[e-d,g-f]:"x"===t.axis?[null,g-f]:[e-d,null],w[0].idleTimer=250,s.overflowed[0]&&c(p[0],z,h,"y","all"),s.overflowed[1]&&c(p[1],z,h,"x",A)}}),v.bind("touchstart."+u+" pointerdown."+u+" MSPointerDown."+u,function(a){if(T(a)&&!l){a.stopImmediatePropagation(),d=!0,M(r),j=P();var b=v.offset();h=C(a)[0]-b.top,i=C(a)[1]-b.left,x=[],y=[]}}).bind("touchend."+u+" pointerup."+u+" MSPointerUp."+u,function(a){if(T(a)&&!l){a.stopImmediatePropagation(),m=P();var d=v.offset(),e=C(a)[0]-d.top,f=C(a)[1]-d.left;if(!(m-k>30)){o=1e3/(m-j);var g="easeOut",r=2.5>o,u=r?[x[x.length-2],y[y.length-2]]:[0,0];n=r?[e-u[0],f-u[1]]:[e-h,f-i];var z=[Math.abs(n[0]),Math.abs(n[1])];o=r?[Math.abs(n[0]/4),Math.abs(n[1]/4)]:[o,o];var B=[Math.abs(w[0].offsetTop)-n[0]*b(z[0]/o[0],o[0]),Math.abs(w[0].offsetLeft)-n[1]*b(z[1]/o[1],o[1])];p="yx"===t.axis?[B[0],B[1]]:"x"===t.axis?[null,B[1]]:[B[0],null],q=[4*z[0]+60*t.speed,4*z[1]+60*t.speed];var D=parseInt(t.contentTouchScroll)||0;p[0]=z[0]>D?p[0]:0,p[1]=z[1]>D?p[1]:0,s.overflowed[0]&&c(p[0],q[0],g,"y",A),s.overflowed[1]&&c(p[1],q[1],g,"x",A)}}})},F=function(){var c,d,e,g=a(this),h=g.data(f),i=h.opt,j=f+"_"+h.idx,k=a("#mTS_"+h.idx),l=a("#mTS_"+h.idx+"_container"),m=b.navigator.pointerEnabled?"pointermove":b.navigator.msPointerEnabled?"MSPointerMove":"mousemove";k.bind(m+"."+j,function(a){if("touch"!==D(a.originalEvent||a)&&(h.overflowed[0]||h.overflowed[1])){a.preventDefault();var b=k.height(),f=l.height(),j=k.width(),m=l.width(),n=m/j*7e3/(i.speed||1);c=[C(a)[0]-k.offset().top,C(a)[1]-k.offset().left],d=[c[0]/k.height(),c[1]/k.width()],e=[Math.round(-((f-b)*d[0])),Math.round(-((m-j)*d[1]))],"x"!==i.axis&&h.overflowed[0]&&N(g,e[0].toString(),{dir:"y",dur:n,easing:"easeOut"}),"y"!==i.axis&&h.overflowed[1]&&N(g,e[1].toString(),{dir:"x",dur:n,easing:"easeOut"})}})},G=function(){function c(){q[0].rAF||(h=b.requestAnimationFrame?b.requestAnimationFrame:function(a){return setTimeout(a,17)},q[0].rAF=h(g))}function e(){null!=q[0].rAF&&(b.requestAnimationFrame?b.cancelAnimationFrame(q[0].rAF):clearTimeout(q[0].rAF),clearTimeout(l),q[0].rAF=null)}function g(){if(!d){k=[j[0]+r[0].offsetTop,j[1]+r[0].offsetLeft];var a=[q.height()-r.height(),q.width()-r.width()];"x"!==o.axis&&n.overflowed[0]&&(k[0]=k[0]>0?0:k[0]<a[0]?a[0]:k[0],j[0]&&!x[0]&&N(m,k[0],{dir:"y",dur:0,easing:"linear"}),(k[0]>=0||k[0]<=a[0])&&(x[0]=1)),"y"!==o.axis&&n.overflowed[1]&&(k[1]=k[1]>0?0:k[1]<a[1]?a[1]:k[1],j[1]&&!x[1]&&N(m,k[1],{dir:"x",dur:0,easing:"linear"}),(k[1]>=0||k[1]<=a[1])&&(x[1]=1)),l=setTimeout(function(){q[0].rAF=h(g)},t)}}var h,i,j,k,l,m=a(this),n=m.data(f),o=n.opt,p=f+"_"+n.idx,q=a("#mTS_"+n.idx),r=a("#mTS_"+n.idx+"_container"),s=b.navigator.pointerEnabled?["pointerover","pointermove","pointerout"]:b.navigator.msPointerEnabled?["MSPointerOver","MSPointerMove","MSPointerOut"]:["mouseenter","mousemove","mouseleave"],t=b.requestAnimationFrame?0:17,u=o.speed,v=parseInt(o.type.split("hover-")[1])||1,w=u*v/100,x=[0,0];q.bind(s[0]+"."+p,function(a){"touch"!==D(a.originalEvent||a)&&(n.overflowed[0]||n.overflowed[1])&&c()}).bind(s[1]+"."+p,function(a){"touch"!==D(a.originalEvent||a)&&(n.overflowed[0]||n.overflowed[1])&&(i=[C(a)[0]-q.offset().top,C(a)[1]-q.offset().left],j=[Math.round(Math.cos(i[0]/q.height()*Math.PI)*u),Math.round(Math.cos(i[1]/q.width()*Math.PI)*u)],j[0]=j[0]<=-w?j[0]+=w:j[0]>=w?j[0]-=w:j[0]=0,j[1]=j[1]<=-w?j[1]+=w:j[1]>=w?j[1]-=w:j[1]=0,x=[0,0])}).bind(s[2]+"."+p,function(a){"touch"!==D(a.originalEvent||a)&&(n.overflowed[0]||n.overflowed[1])&&e()})},H=function(){var b=a(this),c=b.data(f),d=c.opt,e=f+"_"+c.idx,g=a("#mTS_"+c.idx),h=a("#mTS_"+c.idx+"_container"),i=[a("#mTS_"+c.idx+"_buttonUp"),a("#mTS_"+c.idx+"_buttonDown"),a("#mTS_"+c.idx+"_buttonLeft"),a("#mTS_"+c.idx+"_buttonRight")],j=i[0].add(i[1]).add(i[2]).add(i[3]);j.bind("click."+e,function(e){if(S(e)&&(c.overflowed[0]||c.overflowed[1])&&(e.preventDefault(),!c.tweenRunning)){if("x"!==d.axis&&c.overflowed[0]){var f=g.height(),i="click-thumb"===d.type?0:a(this).hasClass("mTSButtonUp")?"+=":a(this).hasClass("mTSButtonDown")?"-=":0;if("click-thumb"!==d.type)var j=parseInt(d.type.split("click-")[1])||1,k=i?[i+f*j/100,null]:0;else{var l=I.call(b[0])[0],m=I.call(b[0])[1];if(a(this).hasClass("mTSButtonDown"))var k=m?m[0].offsetTop-parseInt(m.css("margin-bottom"))-f:989999;else if(a(this).hasClass("mTSButtonUp")){var k=l?l[0].offsetTop-parseInt(l.css("margin-top")):0;if(0===h[0].offsetTop)return}}}if("y"!==d.axis&&c.overflowed[1]){var o=g.width(),i="click-thumb"===d.type?0:a(this).hasClass("mTSButtonLeft")?"+=":a(this).hasClass("mTSButtonRight")?"-=":0;if("click-thumb"!==d.type)var j=parseInt(d.type.split("click-")[1])||1,k=i?[null,i+o*j/100]:k;else{var l=I.call(b[0])[2],m=I.call(b[0])[3];if(a(this).hasClass("mTSButtonRight"))var k=m?m[0].offsetLeft-parseInt(m.css("margin-right"))-o:989999;else if(a(this).hasClass("mTSButtonLeft")){var k=l?l[0].offsetLeft-parseInt(l.css("margin-left")):0;if(0===h[0].offsetLeft)return}}}null!==k&&n.scrollTo.call(b[0],k,{duration:0})}})},I=function(){var b,c,d,e,g=a(this),h=g.data(f),i=(h.opt,a("#mTS_"+h.idx+"_container")),j=a("#mTS_"+h.idx),k=i.find(".mTSThumbContainer");return k.each(function(){var f=a(this),g=[Math.round(f.offset().top-i.offset().top+i[0].offsetTop),Math.round(f.offset().left-i.offset().left+i[0].offsetLeft)];if(g[0]<=0-parseInt(f.css("margin-top")))b=0===g[0]?k.eq(f.index()-1):k.eq(f.index());else if(g[0]<=j.height()+parseInt(f.css("margin-bottom"))){var h=k.eq(f.index()+1);c=h.length?h:null}if(g[1]<=0-parseInt(f.css("margin-left")))d=0===g[1]?k.eq(f.index()-1):k.eq(f.index());else if(g[1]<=j.width()+parseInt(f.css("margin-right"))){var l=k.eq(f.index()+1);e=l.length?l:null}}),[b,c,d,e]},J=function(b){var c=a(this).data(f).opt,d=[];return"function"==typeof b&&(b=b()),b instanceof Array?d=b.length>1?[b[0],b[1]]:"x"===c.axis?[null,b[0]]:[b[0],null]:(d[0]=b.y?b.y:b.x||"x"===c.axis?null:b,d[1]=b.x?b.x:b.y||"y"===c.axis?null:b),"function"==typeof d[0]&&(d[0]=d[0]()),"function"==typeof d[1]&&(d[1]=d[1]()),d},K=function(b,c){if(null!=b&&"undefined"!=typeof b){var d=a(this),e=d.data(f),g=e.opt,h=a("#mTS_"+e.idx),i=a("#mTS_"+e.idx+"_container"),j=typeof b;c||(c="x"===g.axis?"x":"y");var k="x"===c?i.width():i.height(),l="x"===c?i.offset().left:i.offset().top,m="x"===c?i[0].offsetLeft:i[0].offsetTop,o="x"===c?"left":"top";switch(j){case"function":return b();case"object":if(b.nodeType)var p="x"===c?a(b).offset().left:a(b).offset().top;else if(b.jquery){if(!b.length)return;var p="x"===c?b.offset().left:b.offset().top}return p-l;case"string":case"number":if(U(b))return Math.abs(b);if(-1!==b.indexOf("%"))return Math.abs(k*parseInt(b)/100);if(-1!==b.indexOf("-="))return Math.abs(m-parseInt(b.split("-=")[1]));if(-1!==b.indexOf("+=")){var q=m+parseInt(b.split("+=")[1]);return q>=0?0:Math.abs(q)}if(-1!==b.indexOf("px")&&U(b.split("px")[0]))return Math.abs(b.split("px")[0]);if("top"===b||"left"===b)return 0;if("bottom"===b)return Math.abs(h.height()-i.height());if("right"===b)return Math.abs(h.width()-i.width());if("first"===b||"last"===b){var r=i.find(":"+b),p="x"===c?a(r).offset().left:a(r).offset().top;return p-l}if(a(b).length){var p="x"===c?a(b).offset().left:a(b).offset().top;return p-l}return i.css(o,b),void n.update.call(null,d[0])}}},L=function(b){function c(){return clearTimeout(m[0].autoUpdate),0===i.parents("html").length?void(i=null):void(m[0].autoUpdate=setTimeout(function(){return k.advanced.updateOnSelectorChange&&(o=g(),o!==r)?(h(),void(r=o)):(k.advanced.updateOnContentResize&&(p=[m.height(),m.width(),l.height(),l.width(),i.height(),i.width()],(p[0]!==s[0]||p[1]!==s[1]||p[2]!==s[2]||p[3]!==s[3]||p[4]!==s[4]||p[5]!==s[5])&&(h(),s=p)),k.advanced.updateOnImageLoad&&(q=d(),q!==t&&(m.find("img").each(function(){e(this.src)}),t=q)),void((k.advanced.updateOnSelectorChange||k.advanced.updateOnContentResize||k.advanced.updateOnImageLoad)&&c()))},60))}function d(){var a=0;return k.advanced.updateOnImageLoad&&(a=m.find("img").length),a}function e(a){function b(a,b){return function(){return b.apply(a,arguments)}}function c(){this.onload=null,h()}var d=new Image;d.onload=b(d,c),d.src=a}function g(){k.advanced.updateOnSelectorChange===!0&&(k.advanced.updateOnSelectorChange="*");var b=0,c=m.find(k.advanced.updateOnSelectorChange);return k.advanced.updateOnSelectorChange&&c.length>0&&c.each(function(){b+=a(this).height()+a(this).width()}),b}function h(){clearTimeout(m[0].autoUpdate),n.update.call(null,i[0])}var i=a(this),j=i.data(f),k=j.opt,l=a("#mTS_"+j.idx),m=a("#mTS_"+j.idx+"_container");if(b)return clearTimeout(m[0].autoUpdate),void R(m[0],"autoUpdate");var o,p,q,r=g(),s=[m.height(),m.width(),l.height(),l.width(),i.height(),i.width()],t=d();c()},M=function(b){var c=b.data(f),d=a("#mTS_"+c.idx+"_container");d.each(function(){Q.call(this)})},N=function(b,c,d){function e(a){return i&&j.callbacks[a]&&"function"==typeof j.callbacks[a]}function g(){return[j.callbacks.alwaysTriggerOffsets||q>=r+t,j.callbacks.alwaysTriggerOffsets||-u>=q]}function h(){var a=[m[0].offsetTop,m[0].offsetLeft],c=[m.height(),m.width()],e=[l.height(),l.width()];b[0].mts={content:m,top:a[0],left:a[1],topPct:Math.round(100*Math.abs(a[0])/(Math.abs(c[0])-e[0])),leftPct:Math.round(100*Math.abs(a[1])/(Math.abs(c[1])-e[1])),direction:d.dir}}var i=b.data(f),j=i.opt,k={trigger:"internal",dir:"y",easing:"easeOut",dur:60*j.speed,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},d=a.extend(k,d),l=a("#mTS_"+i.idx),m=a("#mTS_"+i.idx+"_container"),n=j.callbacks.onTotalScrollOffset?J.call(b,j.callbacks.onTotalScrollOffset):[0,0],o=j.callbacks.onTotalScrollBackOffset?J.call(b,j.callbacks.onTotalScrollBackOffset):[0,0];switch(i.trigger=d.trigger,(0!==l.scrollTop()||0!==l.scrollLeft())&&l.scrollTop(0).scrollLeft(0),d.dir){case"x":var p="left",q=m[0].offsetLeft,r=l.width()-m.width(),s=c,t=n[1],u=o[1],v=t>0?t:0,w=u>0?u:0;break;case"y":var p="top",q=m[0].offsetTop,r=l.height()-m.height(),s=c,t=n[0],u=o[0],v=t>0?t:0,w=u>0?u:0}s>=0?(s=0,B.call(b,!1,1,d.dir)):r>=s?(s=r,B.call(b,!1,2,d.dir)):(s=s,B.call(b,!1,0,d.dir)),b[0].mts||(h(),e("onInit")&&j.callbacks.onInit.call(b[0])),clearTimeout(m[0].onCompleteTimeout),(i.tweenRunning||!(0===q&&s>=0||q===r&&r>=s))&&O(m[0],p,Math.round(s),d.dur,d.easing,d.overwrite,{onStart:function(){d.callbacks&&d.onStart&&!i.tweenRunning&&(e("onScrollStart")&&(h(),j.callbacks.onScrollStart.call(b[0])),i.tweenRunning=!0,i.cbOffsets=g())},onUpdate:function(){d.callbacks&&d.onUpdate&&e("whileScrolling")&&(h(),j.callbacks.whileScrolling.call(b[0]))},onComplete:function(){if(d.callbacks&&d.onComplete){"yx"===j.axis&&clearTimeout(m[0].onCompleteTimeout);var a=m[0].idleTimer||0;m[0].onCompleteTimeout=setTimeout(function(){e("onScroll")&&(h(),j.callbacks.onScroll.call(b[0])),e("onTotalScroll")&&r+v>=s&&i.cbOffsets[0]&&(h(),j.callbacks.onTotalScroll.call(b[0])),e("onTotalScrollBack")&&s>=-w&&i.cbOffsets[1]&&(h(),j.callbacks.onTotalScrollBack.call(b[0])),i.tweenRunning=!1,m[0].idleTimer=0},a)}}})},O=function(a,c,d,e,f,g,h){function i(){w.stop||(t||p.call(),t=P()-s,j(),t>=w.time&&(w.time=t>w.time?t+n-(t-w.time):t+n-1,w.time<t+1&&(w.time=t+1)),w.time<e?w.id=o(i):r.call())}function j(){e>0?(w.currVal=m(w.time,u,x,e,f),v[c]=Math.round(w.currVal)+"px"):v[c]=d+"px",q.call()}function k(){n=1e3/60,w.time=t+n,o=b.requestAnimationFrame?b.requestAnimationFrame:function(a){return j(),setTimeout(a,.01)},w.id=o(i)}function l(){null!=w.id&&(b.requestAnimationFrame?b.cancelAnimationFrame(w.id):clearTimeout(w.id),w.id=null)}function m(a,b,c,d,e){switch(e){case"linear":return c*a/d+b;case"linearOut":return a/=d,a--,c*Math.sqrt(1-a*a)+b;case"easeInOutSmooth":return a/=d/2,1>a?c/2*a*a+b:(a--,-c/2*(a*(a-2)-1)+b);case"easeInOutStrong":return a/=d/2,1>a?c/2*Math.pow(2,10*(a-1))+b:(a--,c/2*(-Math.pow(2,-10*a)+2)+b);case"easeInOut":return a/=d/2,1>a?c/2*a*a*a+b:(a-=2,c/2*(a*a*a+2)+b);case"easeOutSmooth":return a/=d,a--,-c*(a*a*a*a-1)+b;case"easeOutStrong":return c*(-Math.pow(2,-10*a/d)+1)+b;case"easeOut":default:var f=(a/=d)*a,g=f*a;return b+c*(.499999999999997*g*f+-2.5*f*f+5.5*g+-6.5*f+4*a)}}a._mTween||(a._mTween={top:{},left:{}});var n,o,h=h||{},p=h.onStart||function(){},q=h.onUpdate||function(){},r=h.onComplete||function(){},s=P(),t=0,u=a.offsetTop,v=a.style,w=a._mTween[c];"left"===c&&(u=a.offsetLeft);var x=d-u;w.stop=0,"none"!==g&&l(),k()},P=function(){return b.performance&&b.performance.now?b.performance.now():b.performance&&b.performance.webkitNow?b.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Q=function(){var a=this;a._mTween||(a._mTween={top:{},left:{}});for(var c=["top","left"],d=0;d<c.length;d++){var e=c[d];a._mTween[e].id&&(b.requestAnimationFrame?b.cancelAnimationFrame(a._mTween[e].id):clearTimeout(a._mTween[e].id),a._mTween[e].id=null,a._mTween[e].stop=1)}},R=function(a,b){try{delete a[b]}catch(c){a[b]=null}},S=function(a){return!(a.which&&1!==a.which)},T=function(a){var b=a.originalEvent.pointerType;return!(b&&"touch"!==b&&2!==b)},U=function(a){return!isNaN(parseFloat(a))&&isFinite(a)};a.fn[e]=function(b){return n[b]?n[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist"):n.init.apply(this,arguments)},a[e]=function(b){return n[b]?n[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist"):n.init.apply(this,arguments)},a[e].defaults=h,b[e]=!0,a(b).load(function(){var b=a(g),c=[];if(b.length){b.each(function(){var b=a(this),d=b.data("mts-axis")||h.axis,e=b.data("mts-type")||h.type,g=b.data("mts-theme")||h.theme,i="auto-"+f+"-"+d+"-"+e+"-"+g,j=[i,d,e];b.addClass(i),-1===a.inArray(i,c)&&c.push(j)});for(var d=0;d<c.length;d++)a("."+c[d][0])[e]({axis:c[d][1],type:c[d][2]})}})}(jQuery,window,document);