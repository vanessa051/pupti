!function(a,b,c,d,e){a.fn.multiscroll=function(f){function g(){var c=b.location.hash.replace("#",""),d=c;if(d.length){var e=a(".ms-left").find('[data-anchor="'+d+'"]'),f="undefined"==typeof lastScrolledDestiny;(f||d!==lastScrolledDestiny)&&p(e)}}function h(b){clearTimeout(W);var d=a(c.activeElement);if(!d.is("textarea")&&!d.is("input")&&!d.is("select")&&f.keyboardScrolling){var e=b.which,g=[40,38,32,33,34];a.inArray(e,g)>-1&&b.preventDefault(),W=setTimeout(function(){i(b)},150)}}function i(b){var c=b.shiftKey;switch(b.which){case 38:case 33:L.moveSectionUp();break;case 32:if(c){L.moveSectionUp();break}case 40:case 34:L.moveSectionDown();break;case 36:L.moveTo(1);break;case 35:L.moveTo(a(".ms-left .ms-section").length);break;default:return}}function j(b){b.preventDefault();var c=a(this).parent().index();p(a(".ms-left .ms-section").eq(c))}function k(){var b=a(this).data("tooltip");a('<div class="multiscroll-tooltip '+f.navigationPosition+'">'+b+"</div>").hide().appendTo(a(this)).fadeIn(200)}function l(){a(this).find(".multiscroll-tooltip").fadeOut(200,function(){a(this).remove()})}function m(){if(N){var e=a(c.activeElement);if(!e.is("textarea")&&!e.is("input")&&!e.is("select")){var f=a(b).height();d.abs(f-X)>20*d.max(X,f)/100&&(n(!0),X=f)}}else clearTimeout(Q),Q=setTimeout(function(){n(!0)},350)}function n(c){T=a(b).height(),a(".ms-tableCell").each(function(){a(this).css({height:C(a(this).parent())})}),f.scrollOverflow&&scrollBarHandler.createScrollBarForAll(),o(),a.isFunction(f.afterResize)&&f.afterResize.call(this)}function o(){f.css3?(t(a(".ms-left"),"translate3d(0px, -"+a(".ms-left").find(".ms-section.active").position().top+"px, 0px)",!1),t(a(".ms-right"),"translate3d(0px, -"+a(".ms-right").find(".ms-section.active").position().top+"px, 0px)",!1)):(a(".ms-left").css("top",-a(".ms-left").find(".ms-section.active").position().top),a(".ms-right").css("top",-a(".ms-right").find(".ms-section.active").position().top))}function p(b){var c=b.index(),d=a(".ms-right").find(".ms-section").eq(R-1-c),e=b.data("anchor"),g=a(".ms-left .ms-section.active"),h=g.index()+1,i=x(b);S=!0;var j={left:b.position().top,right:d.position().top};if(d.addClass("active").siblings().removeClass("active"),b.addClass("active").siblings().removeClass("active"),y(e),f.css3){a.isFunction(f.onLeave)&&f.onLeave.call(this,h,c+1,i);var k="translate3d(0px, -"+j.left+"px, 0px)",l="translate3d(0px, -"+j.right+"px, 0px)";t(a(".ms-left"),k,!0),t(a(".ms-right"),l,!0),setTimeout(function(){a.isFunction(f.afterLoad)&&f.afterLoad.call(this,e,c+1),setTimeout(function(){S=!1},M)},f.scrollingSpeed)}else a.isFunction(f.onLeave)&&f.onLeave.call(this,h,c+1,i),a(".ms-left").animate({top:-j.left},f.scrollingSpeed,f.easing,function(){a.isFunction(f.afterLoad)&&f.afterLoad.call(this,e,c+1),setTimeout(function(){S=!1},M)}),a(".ms-right").animate({top:-j.right},f.scrollingSpeed,f.easing);lastScrolledDestiny=e,w(e),v(e,c)}function q(){c.addEventListener?(c.removeEventListener("mousewheel",s,!1),c.removeEventListener("wheel",s,!1)):c.detachEvent("onmousewheel",s)}function r(){c.addEventListener?(c.addEventListener("mousewheel",s,!1),c.addEventListener("wheel",s,!1)):c.attachEvent("onmousewheel",s)}function s(a){a=b.event||a;var c=d.max(-1,d.min(1,a.wheelDelta||-a.deltaY||-a.detail));return S||(0>c?L.moveSectionDown():L.moveSectionUp()),!1}function t(a,b,c){a.toggleClass("ms-easing",c),a.css(u(b))}function u(a){return{"-webkit-transform":a,"-moz-transform":a,"-ms-transform":a,transform:a}}function v(b,c){f.navigation&&(a("#multiscroll-nav").find(".active").removeClass("active"),b?a("#multiscroll-nav").find('a[href="#'+b+'"]').addClass("active"):a("#multiscroll-nav").find("li").eq(c).find("a").addClass("active"))}function w(b){f.menu&&(a(f.menu).find(".active").removeClass("active"),a(f.menu).find('[data-menuanchor="'+b+'"]').addClass("active"))}function x(b){var c=a(".ms-left .ms-section.active").index(),d=b.index();return c>d?"up":"down"}function y(a){f.anchors.length&&(location.hash=a),z()}function z(){var b=a(".ms-left .ms-section.active"),c=b.data("anchor"),d=b.index(),e=String(d);f.anchors.length&&(e=c),e=e.replace("/","-").replace("#","");var g=new RegExp("\\b\\s?ms-viewing-[^\\s]+\\b","g");a("body")[0].className=a("body")[0].className.replace(g,""),a("body").addClass("ms-viewing-"+e)}function A(){var a,d=c.createElement("p"),f={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};c.body.insertBefore(d,null);for(var g in f)d.style[g]!==e&&(d.style[g]="translate3d(1px,1px,1px)",a=b.getComputedStyle(d).getPropertyValue(f[g]));return c.body.removeChild(d),a!==e&&a.length>0&&"none"!==a}function B(a){a.addClass("ms-table").wrapInner('<div class="ms-tableCell" style="height: '+C(a)+'px" />')}function C(a){var b=T;if(f.paddingTop||f.paddingBottom){var c=parseInt(a.css("padding-top"))+parseInt(a.css("padding-bottom"));b=T-c}return b}function D(){var c=b.location.hash.replace("#",""),d=a('.ms-left .ms-section[data-anchor="'+c+'"]');c.length&&p(d)}function E(c){if(F(c)){event.preventDefault();a(".ms-left .ms-section.active");if(!S){var e=K(c);$=e.y,_=e.x,d.abs(Y-$)>a(b).height()/100*f.touchSensitivity&&(Y>$?L.moveSectionDown():$>Y&&L.moveSectionUp())}}}function F(a){return"undefined"==typeof a.pointerType||"mouse"!=a.pointerType}function G(a){if(F(a)){var b=K(a);Y=b.y,Z=b.x}}function H(){(O||N)&&(c.removeEventListener(V.touchstart,G),c.removeEventListener(V.touchmove,E,{passive:!1}),c.addEventListener(V.touchstart,G),c.addEventListener(V.touchmove,E,{passive:!1}))}function I(){(O||N)&&(c.removeEventListener(V.touchstart,G),c.removeEventListener(V.touchmove,E,{passive:!1}))}function J(){var a;return a=b.PointerEvent?{down:"pointerdown",move:"pointermove"}:{down:"MSPointerDown",move:"MSPointerMove"}}function K(a){var b=[];return b.y="undefined"!=typeof a.pageY&&(a.pageY||a.pageX)?a.pageY:a.touches[0].pageY,b.x="undefined"!=typeof a.pageX&&(a.pageY||a.pageX)?a.pageX:a.touches[0].pageX,O&&F(a)&&"undefined"!=typeof a.touches&&(b.y=a.touches[0].pageY,b.x=a.touches[0].pageX),b}var L=a.fn.multiscroll;f=a.extend({verticalCentered:!0,scrollingSpeed:700,easing:"easeInQuart",menu:!1,sectionsColor:[],anchors:[],navigation:!1,navigationPosition:"right",navigationColor:"#000",navigationTooltips:[],loopBottom:!1,loopTop:!1,css3:!1,paddingTop:0,paddingBottom:0,fixedElements:null,normalScrollElements:null,keyboardScrolling:!0,touchSensitivity:5,sectionSelector:".ms-section",leftSelector:".ms-left",rightSelector:".ms-right",afterLoad:null,onLeave:null,afterRender:null,afterResize:null},f);var M=600,N=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),O="ontouchstart"in b||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints;".ms-right"!==f.rightSelector&&a(f.rightSelector).addClass("ms-right"),".ms-left"!==f.leftSelector&&a(f.leftSelector).addClass("ms-left");var P,Q,R=a(".ms-left").find(".ms-section").length,S=!1,T=a(b).height(),U=J(),V={touchmove:"ontouchmove"in b?"touchmove":U.move,touchstart:"ontouchstart"in b?"touchstart":U.down};r(),H(),f.css3&&(f.css3=A()),a("html, body").css({overflow:"hidden",height:"100%"}),".ms-section"!==f.sectionSelector&&a(f.sectionSelector).each(function(){a(this).addClass("ms-section")}),f.navigation&&(a(".bdt-mltiscroll-slider").append('<div id="multiscroll-nav"><ul></ul></div>'),P=a("#multiscroll-nav"),P.css("color",f.navigationColor),P.addClass(f.navigationPosition)),a(".ms-right, .ms-left").css({width:"50%",position:"absolute",height:"100%","-ms-touch-action":"none"}),a(".ms-right").css({right:"1px",top:"0","-ms-touch-action":"none","touch-action":"none"}),a(".ms-left").css({left:"0",top:"0","-ms-touch-action":"none","touch-action":"none"}),a(".ms-left .ms-section, .ms-right .ms-section").each(function(){var b=a(this).index();if((f.paddingTop||f.paddingBottom)&&a(this).css("padding",f.paddingTop+" 0 "+f.paddingBottom+" 0"),"undefined"!=typeof f.sectionsColor[b]&&a(this).css("background-color",f.sectionsColor[b]),"undefined"!=typeof f.anchors[b]&&a(this).attr("data-anchor",f.anchors[b]),f.verticalCentered&&B(a(this)),a(this).closest(".ms-left").length&&f.navigation){var c="";f.anchors.length&&(c=f.anchors[b]);var d=f.navigationTooltips[b];"undefined"==typeof d&&(d=""),f.navigation&&P.find("ul").append('<li data-tooltip="'+d+'"><a href="#'+c+'"><span></span></a></li>')}}),a(".ms-right").html(a(".ms-right").find(".ms-section").get().reverse()),a(".ms-left .ms-section, .ms-right .ms-section").each(function(){var b=a(this).index();a(this).css({height:"100%"}),!b&&f.navigation&&P.find("li").eq(b).find("a").addClass("active")}).promise().done(function(){a(".ms-left .ms-section.active").length||(a(".ms-right").find(".ms-section").last().addClass("active"),a(".ms-left").find(".ms-section").first().addClass("active")),f.navigation&&P.css("margin-top","-"+P.height()/2+"px"),a.isFunction(f.afterRender)&&f.afterRender.call(this),o(),z(),a(b).on("load",function(){D()})}),a(b).on("hashchange",g),a(c).keydown(h);var W;a(c).mousedown(function(a){return 1==a.button?(a.preventDefault(),!1):void 0}),a(c).on("click","#multiscroll-nav a",j),a(c).on({mouseenter:k,mouseleave:l},"#multiscroll-nav li"),f.normalScrollElements&&(a(c).on("mouseenter",f.normalScrollElements,function(){L.setMouseWheelScrolling(!1)}),a(c).on("mouseleave",f.normalScrollElements,function(){L.setMouseWheelScrolling(!0)})),a(b).on("resize",m);var X=T;L.moveSectionUp=function(){var b=a(".ms-left .ms-section.active").prev(".ms-section");!b.length&&f.loopTop&&(b=a(".ms-left .ms-section").last()),b.length&&p(b)},L.moveSectionDown=function(){var b=a(".ms-left .ms-section.active").next(".ms-section");!b.length&&f.loopBottom&&(b=a(".ms-left .ms-section").first()),b.length&&p(b)},L.moveTo=function(b){var c="";c=isNaN(b)?a('.ms-left [data-anchor="'+b+'"]'):a(".ms-left .ms-section").eq(b-1),p(c)},L.setKeyboardScrolling=function(a){f.keyboardScrolling=a},L.setMouseWheelScrolling=function(a){a?r():q()},L.setScrollingSpeed=function(a){f.scrollingSpeed=a};var Y=0,Z=0,$=0,_=0;L.destroy=function(){L.setKeyboardScrolling(!1),L.setMouseWheelScrolling(!1),I(),a(b).off("hashchange",g).off("resize",m),a(c).off("mouseenter","#multiscroll-nav li").off("mouseleave","#multiscroll-nav li").off("click","#multiscroll-nav a")},L.build=function(){L.setKeyboardScrolling(!0),L.setMouseWheelScrolling(!0),H(),a(b).on("hashchange",g).on("resize",m),a(c).on("mouseenter","#multiscroll-nav li",k).on("mouseleave","#multiscroll-nav li",l).on("click","#multiscroll-nav a",j)}}}(jQuery,window,document,Math);